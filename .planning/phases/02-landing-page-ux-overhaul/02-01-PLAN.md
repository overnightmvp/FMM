---
phase: 02-landing-page-ux-overhaul
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - landing-page/assets/movers.css
  - landing-page/assets/movers.js
autonomous: true

must_haves:
  truths:
    - "All .btn-primary buttons use unified size: font-size var(--font-lg), padding 20px 40px â€” .btn-primary-xl is removed as a separate class and merged into .btn-primary"
    - ".step-card uses flex-direction:column layout with .step-number having orange background (#f97316) â€” matches benefit-card card dimensions"
    - "movers.js has initSinglePageForm() function that detects #fmm-bedrooms element, updates crew display, updates price, and submits via Formspree"
    - "New CSS classes exist in movers.css: .quote-layout, .quote-layout-trust, .quote-layout-form, .quote-form-card, .form-field, .form-label, .form-input, .form-select, .form-row-2, .crew-estimate, .upgrades-section, .upgrade-item, .price-summary, .field-hint"
    - "initSinglePageForm() uses the existing PRICING object â€” no pricing data duplication"
  artifacts:
    - path: "landing-page/assets/movers.css"
      provides: "Unified button system, restyled step cards, single-page form CSS"
      min_lines: 900
    - path: "landing-page/assets/movers.js"
      provides: "Single-page form JS with pricing, crew display, and Formspree submission"
      min_lines: 500
---

<objective>
Create the CSS and JS foundation that both the landing page (02-03) and content pages (02-04) depend on. This plan makes two targeted changes to shared assets:
1. Unify button size system (all .btn-primary same size, all have emoji support)
2. Restyle .step-card to match benefit-card layout (vertical stack, orange number)
3. Add new CSS classes for the single-page quote form
4. Add initSinglePageForm() to movers.js for the new form logic

NO HTML pages are modified in this plan. Only movers.css and movers.js.
</objective>

<execution_context>
Working directory: /Users/toshioj/Projects/dojjjo/fort-myers-movers/
</execution_context>

<tasks>

<task type="auto">
  <name>Task 1: Update movers.css â€” Button unification + step card restyle + form CSS</name>
  <files>landing-page/assets/movers.css</files>
  <action>
    READ /Users/toshioj/Projects/dojjjo/fort-myers-movers/landing-page/assets/movers.css in full.

    Make these targeted edits:

    **CHANGE 1: Unify .btn-primary and .btn-primary-xl into one size**

    Find the .btn-primary rule. Change its font-size to var(--font-lg) (18px), padding to 20px 40px. This becomes the ONE standard button size.

    Find the .btn-primary-xl rule. REMOVE the separate font-size and padding overrides so it inherits from .btn-primary (just remove the conflicting properties, keep any unique ones like display:block/width:100% if present on certain pages).

    The result: every .btn-primary button on every page is the same size. .btn-primary-xl can stay as a class for full-width layout but should NOT have a different font size or padding.

    **CHANGE 2: Restyle .step-card to match benefit-card layout**

    Find the .step-card CSS block. Update:
    - .step-card: keep white bg, navy border, border-radius, padding. Match benefit-card padding (28px).
    - .step-card-header: change flex-direction to column; align-items to center; text-align to center; gap to 8px

    Find the .step-number CSS. Change:
    - background-color to var(--color-accent) (#f97316 orange)
    - color to white
    - Keep: 48px width/height, border-radius 50%, font-weight 700, font-size var(--font-xl)

    Find the .step-icon CSS (or add if missing):
    - font-size: 2rem
    - line-height: 1
    - order: -1 (so emoji appears ABOVE the number)
    â€” actually: order 0 (emoji first in DOM, then number, so no reordering needed if HTML has emoji then number)

    **CHANGE 3: Add single-page form CSS**

    APPEND these new CSS classes at the end of movers.css (before any closing comments):

    ```css
    /* â”€â”€â”€ Single-Page Quote Form â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .quote-layout {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 48px;
      align-items: start;
    }
    @media (max-width: 768px) {
      .quote-layout {
        grid-template-columns: 1fr;
      }
      .quote-layout-trust {
        order: 2;
      }
      .quote-layout-form {
        order: 1;
      }
    }
    .quote-form-card {
      background: white;
      border: 2px solid var(--color-border);
      border-radius: var(--radius-xl);
      padding: 40px;
      box-shadow: var(--shadow-lg);
    }
    @media (max-width: 480px) {
      .quote-form-card {
        padding: 24px 16px;
      }
    }
    .form-field {
      margin-bottom: 20px;
    }
    .form-label {
      display: block;
      font-size: var(--font-sm);
      font-weight: 600;
      color: var(--color-text);
      margin-bottom: 6px;
    }
    .form-input,
    .form-select {
      width: 100%;
      padding: 14px 16px;
      border: 2px solid var(--color-border);
      border-radius: var(--radius-md);
      font-size: var(--font-base);
      color: var(--color-text);
      background: white;
      transition: border-color var(--transition);
      box-sizing: border-box;
    }
    .form-input:focus,
    .form-select:focus {
      outline: none;
      border-color: var(--color-accent);
    }
    .form-input.error {
      border-color: var(--color-warning);
    }
    .form-row-2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-bottom: 20px;
    }
    @media (max-width: 480px) {
      .form-row-2 {
        grid-template-columns: 1fr;
      }
    }
    .field-hint {
      font-size: var(--font-xs);
      color: var(--color-text-muted);
      margin-top: 4px;
    }
    .crew-estimate {
      display: flex;
      gap: 16px;
      background: #f0f4ff;
      border: 1px solid #c7d6f5;
      border-radius: var(--radius-md);
      padding: 16px;
      margin-bottom: 20px;
    }
    .crew-stat {
      flex: 1;
      text-align: center;
    }
    .crew-label {
      display: block;
      font-size: var(--font-xs);
      color: var(--color-text-muted);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 4px;
    }
    .crew-value {
      display: block;
      font-size: var(--font-lg);
      font-weight: 700;
      color: var(--color-primary);
    }
    .crew-divider {
      width: 1px;
      background: #c7d6f5;
      flex-shrink: 0;
    }
    .upgrades-section {
      margin-bottom: 24px;
      padding: 20px;
      background: #fafafa;
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
    }
    .upgrades-title {
      font-size: var(--font-base);
      font-weight: 700;
      color: var(--color-text);
      margin-bottom: 16px;
    }
    .upgrade-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      cursor: pointer;
      padding: 10px 0;
      border-bottom: 1px solid var(--color-border);
    }
    .upgrade-item:last-child {
      border-bottom: none;
      padding-bottom: 0;
    }
    .upgrade-checkbox {
      width: 20px;
      height: 20px;
      margin-top: 2px;
      flex-shrink: 0;
      accent-color: var(--color-accent);
      cursor: pointer;
    }
    .upgrade-info {
      flex: 1;
    }
    .upgrade-name {
      display: block;
      font-size: var(--font-sm);
      font-weight: 600;
      color: var(--color-text);
    }
    .upgrade-desc {
      display: block;
      font-size: var(--font-xs);
      color: var(--color-text-muted);
    }
    .price-summary {
      background: var(--color-primary);
      border-radius: var(--radius-lg);
      padding: 24px;
      margin-bottom: 24px;
      color: white;
    }
    .price-line {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255,255,255,0.15);
      font-size: var(--font-sm);
    }
    .price-total-line {
      border-bottom: none;
      padding-top: 16px;
      margin-top: 8px;
    }
    .price-line-label {
      color: rgba(255,255,255,0.8);
    }
    .price-line-value {
      font-weight: 600;
      color: white;
    }
    .price-total-line .price-line-label {
      font-size: var(--font-base);
      font-weight: 700;
      color: white;
    }
    .price-total-value {
      font-size: var(--font-2xl);
      font-weight: 800;
      color: var(--color-accent);
    }
    .price-deposit-note {
      font-size: var(--font-xs);
      color: rgba(255,255,255,0.7);
      margin-top: 12px;
      text-align: center;
    }
    .price-overtime-note {
      font-size: var(--font-xs);
      color: rgba(255,255,255,0.5);
      margin-top: 4px;
      text-align: center;
      font-style: italic;
    }
    .form-urgency-note {
      font-size: var(--font-xs);
      color: var(--color-text-muted);
      text-align: center;
      margin-top: 12px;
    }
    .quote-layout-trust .review-card {
      background: white;
      border: 2px solid var(--color-border);
      border-radius: var(--radius-lg);
      padding: 24px;
      margin-bottom: 16px;
      box-shadow: var(--shadow-sm);
    }
    .quote-layout-trust .review-stars {
      color: #f59e0b;
      font-size: var(--font-lg);
      margin-bottom: 8px;
    }
    .quote-layout-trust .review-text {
      font-size: var(--font-sm);
      color: var(--color-text);
      font-style: italic;
      line-height: 1.6;
      margin-bottom: 12px;
    }
    .quote-layout-trust .review-author {
      font-size: var(--font-xs);
      font-weight: 600;
      color: var(--color-text-muted);
    }
    .quote-trust-signals {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .quote-trust-signal {
      font-size: var(--font-sm);
      color: var(--color-text);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .quote-trust-signal::before {
      content: 'âœ“';
      color: var(--color-accent);
      font-weight: 700;
    }
    ```
  </action>
  <verify>
    grep -n "quote-layout" /Users/toshioj/Projects/dojjjo/fort-myers-movers/landing-page/assets/movers.css | head -5
    grep -n "upgrade-item" /Users/toshioj/Projects/dojjjo/fort-myers-movers/landing-page/assets/movers.css | head -3
    grep -n "price-summary" /Users/toshioj/Projects/dojjjo/fort-myers-movers/landing-page/assets/movers.css | head -3
    grep -n "crew-estimate" /Users/toshioj/Projects/dojjjo/fort-myers-movers/landing-page/assets/movers.css | head -3
  </verify>
  <done>movers.css updated with unified buttons, restyled step cards, and all new form CSS classes.</done>
</task>

<task type="auto">
  <name>Task 2: Update movers.js â€” Add initSinglePageForm()</name>
  <files>landing-page/assets/movers.js</files>
  <action>
    READ /Users/toshioj/Projects/dojjjo/fort-myers-movers/landing-page/assets/movers.js in full.

    The file already has PRICING object with bedroom data and addon prices. Do NOT duplicate it.

    ADD a new function initSinglePageForm() BEFORE the DOMContentLoaded event listener at the bottom.

    Also in the DOMContentLoaded block, add: `if (document.getElementById('fmm-bedrooms')) { initSinglePageForm(); }`

    The new function handles the single-page form with IDs starting with "fmm-":

    ```javascript
    function initSinglePageForm() {
      const bedroomSel = document.getElementById('fmm-bedrooms');
      const moversDisplay = document.getElementById('fmm-movers-count');
      const hoursDisplay = document.getElementById('fmm-hours-count');
      const basePrice = document.getElementById('fmm-base-price');
      const totalPrice = document.getElementById('fmm-total-price');
      const priceDesc = document.getElementById('fmm-price-desc');
      const submitBtn = document.getElementById('fmm-submit-btn');
      const successEl = document.getElementById('fmm-form-success');
      const errorEl = document.getElementById('fmm-form-error');
      const form = document.getElementById('fmm-quote-form');

      let currentAddons = {};

      function getBedroomCount() {
        return bedroomSel ? bedroomSel.value : '2';
      }

      function calcTotal() {
        const br = getBedroomCount();
        const base = PRICING.bedrooms[br] ? PRICING.bedrooms[br].base : 400;
        let addonsTotal = 0;
        Object.entries(currentAddons).forEach(([key, val]) => {
          if (val && PRICING.addons[key]) addonsTotal += PRICING.addons[key].price;
        });
        return { base, addonsTotal, total: base + addonsTotal };
      }

      function updateDisplay() {
        const br = getBedroomCount();
        const data = PRICING.bedrooms[br] || PRICING.bedrooms['2'];
        const { base, addonsTotal, total } = calcTotal();

        if (moversDisplay) moversDisplay.textContent = data.movers + ' Movers';
        if (hoursDisplay) hoursDisplay.textContent = data.hours + ' Hours';
        if (priceDesc) priceDesc.textContent = 'Base (' + data.label + ', ' + data.movers + ' movers, ' + data.hours + ' hrs)';
        if (basePrice) basePrice.textContent = '$' + base;
        if (totalPrice) totalPrice.textContent = '$' + total;

        // sync hidden fields
        const hBedrooms = document.getElementById('fmm-h-bedrooms');
        const hTotal = document.getElementById('fmm-h-total');
        if (hBedrooms) hBedrooms.value = br;
        if (hTotal) hTotal.value = '$' + total;
      }

      if (bedroomSel) {
        bedroomSel.addEventListener('change', updateDisplay);
        updateDisplay();
      }

      // Addon checkboxes
      document.querySelectorAll('.upgrade-checkbox').forEach(function(cb) {
        cb.addEventListener('change', function() {
          const addon = this.dataset.addon;
          currentAddons[addon] = this.checked;
          updateDisplay();
          // update addons hidden field
          const selected = Object.entries(currentAddons)
            .filter(([k, v]) => v)
            .map(([k]) => PRICING.addons[k] ? PRICING.addons[k].label + ' ($' + PRICING.addons[k].price + ')' : k)
            .join(', ');
          const hAddons = document.getElementById('fmm-h-addons');
          if (hAddons) hAddons.value = selected;
        });
      });

      // Sync visible fields to hidden form fields on submit
      function syncHiddenFields() {
        const fields = ['name', 'email', 'phone', 'date', 'from', 'to'];
        fields.forEach(function(f) {
          const visible = document.getElementById('fmm-' + f);
          const hidden = document.getElementById('fmm-h-' + f);
          if (visible && hidden) hidden.value = visible.value;
        });
        const moveTypeSel = document.getElementById('fmm-move-type');
        const hMoveType = document.getElementById('fmm-h-move-type');
        if (moveTypeSel && hMoveType) hMoveType.value = moveTypeSel.value;
      }

      function validateSingleForm() {
        const required = ['fmm-name', 'fmm-email', 'fmm-phone', 'fmm-date', 'fmm-from', 'fmm-to'];
        let valid = true;
        required.forEach(function(id) {
          const el = document.getElementById(id);
          if (el) {
            const empty = !el.value.trim();
            el.classList.toggle('error', empty);
            if (empty) valid = false;
          }
        });
        // Phone validation
        const phoneEl = document.getElementById('fmm-phone');
        if (phoneEl && phoneEl.value) {
          const digits = phoneEl.value.replace(/\D/g, '');
          if (digits.length < 10) {
            phoneEl.classList.add('error');
            valid = false;
          }
        }
        return valid;
      }

      if (submitBtn) {
        submitBtn.addEventListener('click', function() {
          if (!validateSingleForm()) {
            submitBtn.textContent = 'Please fill in all fields ðŸ‘†';
            setTimeout(function() { submitBtn.textContent = 'Get My Free Quote ðŸšš'; }, 2000);
            return;
          }
          syncHiddenFields();
          submitBtn.disabled = true;
          submitBtn.textContent = 'Sending... â³';

          const formData = new FormData(form);
          fetch(form.action, {
            method: 'POST',
            body: formData,
            headers: { 'Accept': 'application/json' }
          }).then(function(res) {
            if (res.ok) {
              if (successEl) { successEl.style.display = 'block'; }
              form.style.display = 'none';
              // scroll to success
              if (successEl) successEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
              // GA4 tracking
              if (typeof gtag !== 'undefined') {
                gtag('event', 'lead_generated', {
                  event_category: 'form',
                  event_label: 'quote_form_single_page',
                  value: 75
                });
              }
            } else {
              throw new Error('Form submission failed');
            }
          }).catch(function() {
            if (errorEl) { errorEl.style.display = 'block'; }
            submitBtn.disabled = false;
            submitBtn.textContent = 'Get My Free Quote ðŸšš';
          });
        });
      }
    }
    ```

    In the existing DOMContentLoaded event listener (at the bottom of movers.js), ADD this line:
    ```javascript
    if (document.getElementById('fmm-bedrooms')) { initSinglePageForm(); }
    ```

    Do NOT remove any existing code. The existing initMultiStepForm() call should remain for backward compatibility (it checks for its own DOM elements before running).
  </action>
  <verify>
    grep -n "initSinglePageForm" /Users/toshioj/Projects/dojjjo/fort-myers-movers/landing-page/assets/movers.js | head -5
    grep -n "fmm-bedrooms" /Users/toshioj/Projects/dojjjo/fort-myers-movers/landing-page/assets/movers.js | head -3
    grep -n "upgrade-checkbox" /Users/toshioj/Projects/dojjjo/fort-myers-movers/landing-page/assets/movers.js | head -3
  </verify>
  <done>movers.js has initSinglePageForm() and it's called on DOMContentLoaded when #fmm-bedrooms exists.</done>
</task>

</tasks>

<commit_rules>
After all tasks complete:
1. git add landing-page/assets/movers.css landing-page/assets/movers.js
2. git commit -m "feat(02-01): unify button system, restyle step cards, add single-page form CSS/JS"
3. Create /Users/toshioj/Projects/dojjjo/fort-myers-movers/.planning/phases/02-landing-page-ux-overhaul/02-01-SUMMARY.md
4. git add the SUMMARY.md and commit: docs(02-01): complete CSS/JS foundation plan
</commit_rules>

<output>
After completion, create 02-01-SUMMARY.md:
- Files modified: landing-page/assets/movers.css, landing-page/assets/movers.js
- Key decisions: .btn-primary-xl size merged into .btn-primary (20px/40px padding, var(--font-lg)); step-number bg changed to var(--color-accent); 15+ new form CSS classes added; initSinglePageForm() added to movers.js without removing existing multi-step form logic
</output>
